import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as a,o as t,c as p,d as e,e as o}from"./app-BLEz_NFB.js";const c={},l=o(`<h2 id="vue-实现文字跑马灯效果" tabindex="-1"><a class="header-anchor" href="#vue-实现文字跑马灯效果"><span>Vue 实现文字跑马灯效果</span></a></h2><p>封装了一个组件，用于实现文字跑马灯效果。</p><h3 id="组件源码" tabindex="-1"><a class="header-anchor" href="#组件源码"><span>组件源码</span></a></h3><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- Carousel.vue --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 跑马灯容器 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>containerRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 跑马灯 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textOverflow &amp;&amp; &#39;content&#39;<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ animationDuration: \`\${duration}s\`, animationDelay: \`\${props.scrollDelay}s\` }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 文本内容 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{ paddingRight: \`\${props.textGap}px\`, whiteSpace: &#39;nowrap&#39; }, props.textStyle]<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textContentRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{
            props.textContent }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 文本溢出时追加的文本内容 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{ paddingRight: \`\${props.textGap}px\`, whiteSpace: &#39;nowrap&#39; }, props.textStyle]<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textOverflow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{
            props.textContent }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> nextTick<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// 获取跑马灯容器元素</span>
<span class="token keyword">const</span> containerRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取文本内容元素</span>
<span class="token keyword">const</span> textContentRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 判断文本内容是否溢出</span>
<span class="token keyword">const</span> textOverflow <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 动画持续时间</span>
<span class="token keyword">const</span> duration <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 接收参数</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 文本内容</span>
    <span class="token literal-property property">textContent</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 文本间隔</span>
    <span class="token literal-property property">textGap</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 文本滚动速度</span>
    <span class="token literal-property property">scrollSpeed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 文本开始滚动的延迟时间</span>
    <span class="token literal-property property">scrollDelay</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 文本内容样式</span>
    <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 监听文本内容变化</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>textContent<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">renderText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 挂载时执行</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">renderText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 渲染文本内容</span>
<span class="token keyword">const</span> <span class="token function-variable function">renderText</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取容器宽度和文本内容宽度</span>
    <span class="token keyword">const</span> containerWidth <span class="token operator">=</span> containerRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
    <span class="token keyword">const</span> textWidth <span class="token operator">=</span> textContentRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
    <span class="token comment">// 计算动画持续时间</span>
    duration<span class="token punctuation">.</span>value <span class="token operator">=</span> textWidth <span class="token operator">/</span> props<span class="token punctuation">.</span>scrollSpeed<span class="token punctuation">;</span>
    <span class="token comment">// 判断文本内容是否溢出</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>textWidth <span class="token operator">-</span> props<span class="token punctuation">.</span>textGap<span class="token punctuation">)</span> <span class="token operator">&gt;</span> containerWidth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        textOverflow<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        textOverflow<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.container</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-grow</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.content</span> <span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> move linear infinite<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> move</span> <span class="token punctuation">{</span>
    <span class="token selector">0%</span> <span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">to</span> <span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="组件的使用" tabindex="-1"><a class="header-anchor" href="#组件的使用"><span>组件的使用</span></a></h3><p>注意：组件外的容器必须设置宽度。</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ width: &#39;100px&#39;, backgroundColor: &#39;pink&#39; }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Carousel</span> <span class="token attr-name">:textContent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textContent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:textGap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textGap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:scrollDelay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textStartScrollDelay<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:scrollSpeed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textScrollSpeed<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:textStyle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textStyle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Carousel</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Carousel <span class="token keyword">from</span> <span class="token string">&#39;@/components/Carousel.vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> textContent <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;我是一段很长的文字&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> textGap <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> textStartScrollDelay <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> textScrollSpeed <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> textStyle <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token string">&#39;bold&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="效果展示" tabindex="-1"><a class="header-anchor" href="#效果展示"><span>效果展示</span></a></h3>`,8);function u(i,k){const n=a("VuePlayground");return t(),p("div",null,[l,e(n,{title:"%E8%B7%91%E9%A9%AC%E7%81%AF%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA",key:"2040e54f",settings:"%7B%7D",files:"eyJBcHAudnVlIjoiPCEtLSBBcHAudnVlIC0tPlxuXG48dGVtcGxhdGU%2BXG4gICAgPGRpdiA6c3R5bGU9XCJ7IHdpZHRoOiAnMTAwcHgnLCBiYWNrZ3JvdW5kQ29sb3I6ICdwaW5rJyB9XCI%2BXG4gICAgICAgIDxDYXJvdXNlbCA6dGV4dENvbnRlbnQ9XCJ0ZXh0Q29udGVudFwiIDp0ZXh0R2FwPVwidGV4dEdhcFwiIDpzY3JvbGxEZWxheT1cInRleHRTdGFydFNjcm9sbERlbGF5XCJcbiAgICAgICAgICAgIDpzY3JvbGxTcGVlZD1cInRleHRTY3JvbGxTcGVlZFwiIDp0ZXh0U3R5bGU9XCJ0ZXh0U3R5bGVcIj5cbiAgICAgICAgPC9DYXJvdXNlbD5cbiAgICA8L2Rpdj5cbjwvdGVtcGxhdGU%2BXG5cbjxzY3JpcHQgc2V0dXA%2BXG5pbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnO1xuaW1wb3J0IENhcm91c2VsIGZyb20gJ0AvY29tcG9uZW50cy9DYXJvdXNlbC52dWUnO1xuXG5jb25zdCB0ZXh0Q29udGVudCA9IHJlZign5oiR5piv5LiA5q615b6I6ZW%2F55qE5paH5a2XJyk7XG5jb25zdCB0ZXh0R2FwID0gcmVmKDIwKTtcbmNvbnN0IHRleHRTdGFydFNjcm9sbERlbGF5ID0gcmVmKDEpO1xuY29uc3QgdGV4dFNjcm9sbFNwZWVkID0gcmVmKDIwKTtcbmNvbnN0IHRleHRTdHlsZSA9IHJlZih7XG4gICAgY29sb3I6ICdncmVlbicsXG4gICAgZm9udFdlaWdodDogJ2JvbGQnLFxufSk7XG48L3NjcmlwdD5cbiIsIkNhcm91c2VsLnZ1ZSI6IjwhLS0gQ2Fyb3VzZWwudnVlIC0tPlxuXG48dGVtcGxhdGU%2BXG4gICAgPCEtLSDot5Hpqaznga%2FlrrnlmaggLS0%2BXG4gICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiIHJlZj1cImNvbnRhaW5lclJlZlwiPlxuICAgICAgICA8IS0tIOi3kemprOeBryAtLT5cbiAgICAgICAgPGRpdiA6Y2xhc3M9XCJ0ZXh0T3ZlcmZsb3cgJiYgJ2NvbnRlbnQnXCJcbiAgICAgICAgICAgIDpzdHlsZT1cInsgYW5pbWF0aW9uRHVyYXRpb246IGAke2R1cmF0aW9ufXNgLCBhbmltYXRpb25EZWxheTogYCR7cHJvcHMuc2Nyb2xsRGVsYXl9c2AgfVwiPlxuICAgICAgICAgICAgPCEtLSDmlofmnKzlhoXlrrkgLS0%2BXG4gICAgICAgICAgICA8ZGl2IDpzdHlsZT1cIlt7IHBhZGRpbmdSaWdodDogYCR7cHJvcHMudGV4dEdhcH1weGAsIHdoaXRlU3BhY2U6ICdub3dyYXAnIH0sIHByb3BzLnRleHRTdHlsZV1cIlxuICAgICAgICAgICAgICAgIHJlZj1cInRleHRDb250ZW50UmVmXCI%2Be3tcbiAgICAgICAgICAgIHByb3BzLnRleHRDb250ZW50IH19PC9kaXY%2BXG4gICAgICAgICAgICA8IS0tIOaWh%2BacrOa6ouWHuuaXtui%2FveWKoOeahOaWh%2BacrOWGheWuuSAtLT5cbiAgICAgICAgICAgIDxkaXYgOnN0eWxlPVwiW3sgcGFkZGluZ1JpZ2h0OiBgJHtwcm9wcy50ZXh0R2FwfXB4YCwgd2hpdGVTcGFjZTogJ25vd3JhcCcgfSwgcHJvcHMudGV4dFN0eWxlXVwiXG4gICAgICAgICAgICAgICAgdi1zaG93PVwidGV4dE92ZXJmbG93XCI%2Be3tcbiAgICAgICAgICAgIHByb3BzLnRleHRDb250ZW50IH19PC9kaXY%2BXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cD5cbmltcG9ydCB7IHJlZiwgd2F0Y2gsIG5leHRUaWNrLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnO1xuLy8g6I635Y%2BW6LeR6ams54Gv5a655Zmo5YWD57SgXG5jb25zdCBjb250YWluZXJSZWYgPSByZWYobnVsbCk7XG4vLyDojrflj5bmlofmnKzlhoXlrrnlhYPntKBcbmNvbnN0IHRleHRDb250ZW50UmVmID0gcmVmKG51bGwpO1xuLy8g5Yik5pat5paH5pys5YaF5a655piv5ZCm5rqi5Ye6XG5jb25zdCB0ZXh0T3ZlcmZsb3cgPSByZWYodHJ1ZSk7XG4vLyDliqjnlLvmjIHnu63ml7bpl7RcbmNvbnN0IGR1cmF0aW9uID0gcmVmKDApO1xuLy8g5o6l5pS25Y%2BC5pWwXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzKHtcbiAgICAvLyDmlofmnKzlhoXlrrlcbiAgICB0ZXh0Q29udGVudDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICcnLFxuICAgIH0sXG4gICAgLy8g5paH5pys6Ze06ZqUXG4gICAgdGV4dEdhcDoge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIGRlZmF1bHQ6IDUwLFxuICAgIH0sXG4gICAgLy8g5paH5pys5rua5Yqo6YCf5bqmXG4gICAgc2Nyb2xsU3BlZWQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBkZWZhdWx0OiAxMCxcbiAgICB9LFxuICAgIC8vIOaWh%2BacrOW8gOWni%2Ba7muWKqOeahOW7tui%2Fn%2BaXtumXtFxuICAgIHNjcm9sbERlbGF5OiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgZGVmYXVsdDogMC41LFxuICAgIH0sXG4gICAgLy8g5paH5pys5YaF5a655qC35byPXG4gICAgdGV4dFN0eWxlOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9XG59KTtcbi8vIOebkeWQrOaWh%2BacrOWGheWuueWPmOWMllxud2F0Y2goKCkgPT4gcHJvcHMudGV4dENvbnRlbnQsICgpID0%2BIHtcbiAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHJlbmRlclRleHQoKTtcbiAgICB9KTtcbn0pO1xuLy8g5oyC6L295pe25omn6KGMXG5vbk1vdW50ZWQoKCkgPT4ge1xuICAgIG5leHRUaWNrKCgpID0%2BIHtcbiAgICAgICAgcmVuZGVyVGV4dCgpO1xuICAgIH0pO1xufSk7XG4vLyDmuLLmn5PmlofmnKzlhoXlrrlcbmNvbnN0IHJlbmRlclRleHQgPSAoKSA9PiB7XG4gICAgLy8g6I635Y%2BW5a655Zmo5a695bqm5ZKM5paH5pys5YaF5a655a695bqmXG4gICAgY29uc3QgY29udGFpbmVyV2lkdGggPSBjb250YWluZXJSZWYudmFsdWUub2Zmc2V0V2lkdGg7XG4gICAgY29uc3QgdGV4dFdpZHRoID0gdGV4dENvbnRlbnRSZWYudmFsdWUub2Zmc2V0V2lkdGg7XG4gICAgLy8g6K6h566X5Yqo55S75oyB57ut5pe26Ze0XG4gICAgZHVyYXRpb24udmFsdWUgPSB0ZXh0V2lkdGggLyBwcm9wcy5zY3JvbGxTcGVlZDtcbiAgICAvLyDliKTmlq3mlofmnKzlhoXlrrnmmK%2FlkKbmuqLlh7pcbiAgICBpZiAoKHRleHRXaWR0aCAtIHByb3BzLnRleHRHYXApID4gY29udGFpbmVyV2lkdGgpIHtcbiAgICAgICAgdGV4dE92ZXJmbG93LnZhbHVlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0T3ZlcmZsb3cudmFsdWUgPSBmYWxzZTtcbiAgICB9XG59O1xuPC9zY3JpcHQ%2BXG5cbjxzdHlsZSBzY29wZWQ%2BXG4uY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLmNvbnRlbnQge1xuICAgIGZsZXg6IG5vbmU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGFuaW1hdGlvbjogbW92ZSBsaW5lYXIgaW5maW5pdGU7XG59XG5Aa2V5ZnJhbWVzIG1vdmUge1xuICAgIDAlIHtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApO1xuICAgIH1cbiAgICB0byB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICB9XG59XG48L3N0eWxlPlxuIn0%3D"})])}const m=s(c,[["render",u],["__file","04-文字跑马灯效果的实现.html.vue"]]),g=JSON.parse('{"path":"/DevelopmentSkills/04-%E6%96%87%E5%AD%97%E8%B7%91%E9%A9%AC%E7%81%AF%E6%95%88%E6%9E%9C%E7%9A%84%E5%AE%9E%E7%8E%B0.html","title":"文字跑马灯效果的实现","lang":"zh-CN","frontmatter":{"title":"文字跑马灯效果的实现","order":4,"date":"2024-03-18T00:00:00.000Z","category":"软件开发","tag":"Vue","description":"Vue 实现文字跑马灯效果 封装了一个组件，用于实现文字跑马灯效果。 组件源码 组件的使用 注意：组件外的容器必须设置宽度。 效果展示","head":[["meta",{"property":"og:url","content":"https://blog.azhf8.top/DevelopmentSkills/04-%E6%96%87%E5%AD%97%E8%B7%91%E9%A9%AC%E7%81%AF%E6%95%88%E6%9E%9C%E7%9A%84%E5%AE%9E%E7%8E%B0.html"}],["meta",{"property":"og:site_name","content":"茕茕の博客"}],["meta",{"property":"og:title","content":"文字跑马灯效果的实现"}],["meta",{"property":"og:description","content":"Vue 实现文字跑马灯效果 封装了一个组件，用于实现文字跑马灯效果。 组件源码 组件的使用 注意：组件外的容器必须设置宽度。 效果展示"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-09T07:30:28.000Z"}],["meta",{"property":"article:author","content":"茕茕"}],["meta",{"property":"article:tag","content":"Vue"}],["meta",{"property":"article:published_time","content":"2024-03-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-09T07:30:28.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"文字跑马灯效果的实现\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-03-18T00:00:00.000Z\\",\\"dateModified\\":\\"2024-06-09T07:30:28.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"茕茕\\",\\"url\\":\\"/AboutMe/\\"}]}"]]},"headers":[{"level":2,"title":"Vue 实现文字跑马灯效果","slug":"vue-实现文字跑马灯效果","link":"#vue-实现文字跑马灯效果","children":[{"level":3,"title":"组件源码","slug":"组件源码","link":"#组件源码","children":[]},{"level":3,"title":"组件的使用","slug":"组件的使用","link":"#组件的使用","children":[]},{"level":3,"title":"效果展示","slug":"效果展示","link":"#效果展示","children":[]}]}],"git":{"createdTime":1715560289000,"updatedTime":1717918228000,"contributors":[{"name":"zhf521","email":"3407085928@qq.com","commits":7}]},"readingTime":{"minutes":2.88,"words":864},"filePathRelative":"DevelopmentSkills/04-文字跑马灯效果的实现.md","localizedDate":"2024年3月18日","excerpt":"<h2>Vue 实现文字跑马灯效果</h2>\\n<p>封装了一个组件，用于实现文字跑马灯效果。</p>\\n<h3>组件源码</h3>\\n<div class=\\"language-vue\\" data-ext=\\"vue\\" data-title=\\"vue\\"><pre class=\\"language-vue\\"><code><span class=\\"token comment\\">&lt;!-- Carousel.vue --&gt;</span>\\n\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>template</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token comment\\">&lt;!-- 跑马灯容器 --&gt;</span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">class</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>container<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">ref</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>containerRef<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token comment\\">&lt;!-- 跑马灯 --&gt;</span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">:class</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>textOverflow &amp;&amp; \'content\'<span class=\\"token punctuation\\">\\"</span></span>\\n            <span class=\\"token attr-name\\">:style</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>{ animationDuration: `${duration}s`, animationDelay: `${props.scrollDelay}s` }<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token comment\\">&lt;!-- 文本内容 --&gt;</span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">:style</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>[{ paddingRight: `${props.textGap}px`, whiteSpace: \'nowrap\' }, props.textStyle]<span class=\\"token punctuation\\">\\"</span></span>\\n                <span class=\\"token attr-name\\">ref</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>textContentRef<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>{{\\n            props.textContent }}<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token comment\\">&lt;!-- 文本溢出时追加的文本内容 --&gt;</span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">:style</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>[{ paddingRight: `${props.textGap}px`, whiteSpace: \'nowrap\' }, props.textStyle]<span class=\\"token punctuation\\">\\"</span></span>\\n                <span class=\\"token attr-name\\">v-show</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>textOverflow<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>{{\\n            props.textContent }}<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>template</span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>script</span> <span class=\\"token attr-name\\">setup</span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token script\\"><span class=\\"token language-javascript\\">\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> ref<span class=\\"token punctuation\\">,</span> watch<span class=\\"token punctuation\\">,</span> nextTick<span class=\\"token punctuation\\">,</span> onMounted <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">\'vue\'</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 获取跑马灯容器元素</span>\\n<span class=\\"token keyword\\">const</span> containerRef <span class=\\"token operator\\">=</span> <span class=\\"token function\\">ref</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 获取文本内容元素</span>\\n<span class=\\"token keyword\\">const</span> textContentRef <span class=\\"token operator\\">=</span> <span class=\\"token function\\">ref</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 判断文本内容是否溢出</span>\\n<span class=\\"token keyword\\">const</span> textOverflow <span class=\\"token operator\\">=</span> <span class=\\"token function\\">ref</span><span class=\\"token punctuation\\">(</span><span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 动画持续时间</span>\\n<span class=\\"token keyword\\">const</span> duration <span class=\\"token operator\\">=</span> <span class=\\"token function\\">ref</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 接收参数</span>\\n<span class=\\"token keyword\\">const</span> props <span class=\\"token operator\\">=</span> <span class=\\"token function\\">defineProps</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token comment\\">// 文本内容</span>\\n    <span class=\\"token literal-property property\\">textContent</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token literal-property property\\">type</span><span class=\\"token operator\\">:</span> String<span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token keyword\\">default</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\'\'</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token comment\\">// 文本间隔</span>\\n    <span class=\\"token literal-property property\\">textGap</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token literal-property property\\">type</span><span class=\\"token operator\\">:</span> Number<span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token keyword\\">default</span><span class=\\"token operator\\">:</span> <span class=\\"token number\\">50</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token comment\\">// 文本滚动速度</span>\\n    <span class=\\"token literal-property property\\">scrollSpeed</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token literal-property property\\">type</span><span class=\\"token operator\\">:</span> Number<span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token keyword\\">default</span><span class=\\"token operator\\">:</span> <span class=\\"token number\\">10</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token comment\\">// 文本开始滚动的延迟时间</span>\\n    <span class=\\"token literal-property property\\">scrollDelay</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token literal-property property\\">type</span><span class=\\"token operator\\">:</span> Number<span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token keyword\\">default</span><span class=\\"token operator\\">:</span> <span class=\\"token number\\">0.5</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token comment\\">// 文本内容样式</span>\\n    <span class=\\"token literal-property property\\">textStyle</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token literal-property property\\">type</span><span class=\\"token operator\\">:</span> Object<span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token keyword\\">default</span><span class=\\"token operator\\">:</span> <span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 监听文本内容变化</span>\\n<span class=\\"token function\\">watch</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> props<span class=\\"token punctuation\\">.</span>textContent<span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token function\\">nextTick</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token function\\">renderText</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 挂载时执行</span>\\n<span class=\\"token function\\">onMounted</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token function\\">nextTick</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token function\\">renderText</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 渲染文本内容</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">renderText</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token comment\\">// 获取容器宽度和文本内容宽度</span>\\n    <span class=\\"token keyword\\">const</span> containerWidth <span class=\\"token operator\\">=</span> containerRef<span class=\\"token punctuation\\">.</span>value<span class=\\"token punctuation\\">.</span>offsetWidth<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token keyword\\">const</span> textWidth <span class=\\"token operator\\">=</span> textContentRef<span class=\\"token punctuation\\">.</span>value<span class=\\"token punctuation\\">.</span>offsetWidth<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token comment\\">// 计算动画持续时间</span>\\n    duration<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> textWidth <span class=\\"token operator\\">/</span> props<span class=\\"token punctuation\\">.</span>scrollSpeed<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token comment\\">// 判断文本内容是否溢出</span>\\n    <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span>textWidth <span class=\\"token operator\\">-</span> props<span class=\\"token punctuation\\">.</span>textGap<span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">&gt;</span> containerWidth<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        textOverflow<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> <span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">else</span> <span class=\\"token punctuation\\">{</span>\\n        textOverflow<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> <span class=\\"token boolean\\">false</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">;</span>\\n</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>script</span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>style</span> <span class=\\"token attr-name\\">scoped</span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token style\\"><span class=\\"token language-css\\">\\n<span class=\\"token selector\\">.container</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token property\\">width</span><span class=\\"token punctuation\\">:</span> 100%<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">display</span><span class=\\"token punctuation\\">:</span> flex<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">flex-grow</span><span class=\\"token punctuation\\">:</span> 1<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">overflow</span><span class=\\"token punctuation\\">:</span> hidden<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token selector\\">.content</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token property\\">flex</span><span class=\\"token punctuation\\">:</span> none<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">display</span><span class=\\"token punctuation\\">:</span> flex<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">align-items</span><span class=\\"token punctuation\\">:</span> center<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">animation</span><span class=\\"token punctuation\\">:</span> move linear infinite<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token atrule\\"><span class=\\"token rule\\">@keyframes</span> move</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token selector\\">0%</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token property\\">transform</span><span class=\\"token punctuation\\">:</span> <span class=\\"token function\\">translateX</span><span class=\\"token punctuation\\">(</span>0<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n    <span class=\\"token selector\\">to</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token property\\">transform</span><span class=\\"token punctuation\\">:</span> <span class=\\"token function\\">translateX</span><span class=\\"token punctuation\\">(</span>-50%<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>style</span><span class=\\"token punctuation\\">&gt;</span></span>\\n</code></pre></div>","autoDesc":true}');export{m as comp,g as data};
